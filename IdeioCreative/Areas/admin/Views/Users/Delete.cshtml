@model User

@{
    ViewData["Title"] = "Sil";
}

<div class="container my-4">
    <div class="card shadow-lg border-0 rounded-3">
        <div class="card-header bg-danger text-white d-flex align-items-center">
            <i class="bi bi-exclamation-triangle-fill me-2 fs-4"></i>
            <h4 class="mb-0">Kullanıcı Sil</h4>
        </div>
        <div class="card-body">
            <div class="alert alert-warning mb-4">
                <i class="bi bi-info-circle-fill me-2"></i>
                Bu işlemi gerçekleştirdiğinizde kullanıcı <strong>kalıcı olarak silinecek!</strong>
            </div>

            <dl class="row">
                <dt class="col-sm-3 fw-bold">@Html.DisplayNameFor(model => model.Username)</dt>
                <dd class="col-sm-9">@Html.DisplayFor(model => model.Username)</dd>

                <dt class="col-sm-3 fw-bold">@Html.DisplayNameFor(model => model.password)</dt>
                <dd class="col-sm-9">
                    <span id="passwordField">••••••••</span>
                    <button type="button" class="btn btn-sm btn-outline-secondary" id="togglePassword">
                        <i class="bi bi-eye"></i>
                    </button>
                    <span id="realPassword" class="d-none">@Model.password</span>
                </dd>
            </dl>

            <form asp-action="Delete" class="d-flex justify-content-between mt-4">
                <input type="hidden" asp-for="Id" />
                <a asp-action="Index" class="btn btn-outline-secondary btn-lg">
                    <i class="bi bi-arrow-left"></i> Vazgeç
                </a>
                <button type="submit" class="btn btn-danger btn-lg shadow-sm">
                    <i class="bi bi-trash-fill"></i> SİL
                </button>
            </form>
        </div>
    </div>
</div>

<style>
    .card-header {
        display: flex;
        align-items: center;
        font-size: 1.2rem;
    }

    dl dt {
        color: #444;
    }

    .alert-warning {
        font-size: 1rem;
    }

    #togglePassword {
        margin-left: 5px;
    }
</style>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const togglePassword = document.getElementById("togglePassword");
        const passwordField = document.getElementById("passwordField");
        const realPassword = document.getElementById("realPassword");
        const icon = togglePassword.querySelector("i");

        togglePassword.addEventListener("click", function () {
            if (passwordField.innerText.includes("•")) {
                // Şifreyi göster
                passwordField.innerText = realPassword.innerText;
                icon.classList.remove("bi-eye");
                icon.classList.add("bi-eye-slash");
            } else {
                // Şifreyi gizle
                passwordField.innerText = "••••••••";
                icon.classList.remove("bi-eye-slash");
                icon.classList.add("bi-eye");
            }
        });
    });
</script>
